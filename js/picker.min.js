!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){wp.media.model.MenuIconsItem=a("./models/item.js"),wp.media.view.MediaFrame.MenuIcons=a("./views/frame.js")},{"./models/item.js":2,"./views/frame.js":3}],2:[function(a,b,c){var d=Backbone.Model.extend({initialize:function(){this.on("change",this.updateValues,this)},updateValues:function(){_.each(this.get("$inputs"),function(a,b){a.val(this.get(b))},this)}});b.exports=d},{}],3:[function(a,b,c){var d,e=jQuery;d=wp.media.view.MediaFrame.IconPicker.extend({initialize:function(){this.menuItems=new Backbone.Collection([],{model:wp.media.model.MenuIconsItem}),wp.media.view.MediaFrame.IconPicker.prototype.initialize.apply(this,arguments),this.listenTo(this.target,"change",this.miUpdateItemProps)},miPick:function(a){var b=a.data("id"),c=this.menuItems.get(b);return c?(this.target.set(c.toJSON(),{silent:!0}),void this.open()):(c={id:b,$inputs:{}},a.find("div._settings input").each(function(){var a=e(this),b=a.data("key");c[b]=a.val(),c.$inputs[b]=a}),this.menuItems.add(c),this.target.set(c,{silent:!0}),void this.open())},miUpdateItemProps:function(){var a=this.target.id,b=this.menuItems.get(a),c=this.target.toJSON();b.set(c),this.target.clear({silent:!0})}}),b.exports=d},{}]},{},[1]),function(a){var b={frame:null,target:new wp.media.model.IconPickerTarget,typesFilter:function(b){return-1<a.inArray(b.id,menuIconsPicker.activeTypes)},createFrame:function(){b.frame=new wp.media.view.MediaFrame.MenuIcons({target:b.target,ipTypes:_.filter(iconPicker.types,b.typesFilter)})},setIcon:function(c){var d=a(c.currentTarget),e=a(c.target);c.preventDefault(),e.hasClass("_select")&&b.frame.miPick(d)},init:function(){b.createFrame(),a(document).on("click","div.menu-icons-wrap",b.setIcon)}};b.init()}(jQuery);